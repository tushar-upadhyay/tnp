(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{137:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n(14),i=n.n(c),l=n(45),s=n(16),o=n(15),j=n(72),u=n(7),d=n(100),b=Object(s.b)(localStorage.getItem("token")||null);function h(e){var t=e.children,n=Object(d.a)(e,["children"]),r=Object(s.c)(b),c=Object(u.a)(r,2),i=c[0];c[1];return Object(a.jsx)(o.Route,Object(j.a)(Object(j.a)({},n),{},{render:function(e){var n=e.location;return i?t:Object(a.jsx)(o.Redirect,{to:{pathname:"/login",state:{from:n}}})}}))}var p=n(13),O=n.n(p),x=n(10),f=n(19),m=n(205),g=n(189),y=n(202),v=n(192),w=n(191),S=n(87),k=n.n(S),C=n(102),T=n(182),I=n(185),F=n.p+"static/media/bg.279ce339.png",D=n(141),B=n(204),q=n(190),A=null,W=null,N=null;localStorage.getItem("token")&&(A=localStorage.getItem("name"),W=localStorage.getItem("email"),N=localStorage.getItem("userType"));var E=Object(s.b)({name:A,email:W,userType:N}),R=Object(T.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},div:{height:"100vh",backgroundSize:"cover",backgroundImage:"url(".concat(F,")")},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function P(){var e,t=Object(o.useHistory)(),n=R(),c=Object(s.c)(b),i=Object(u.a)(c,2),l=i[0],j=i[1],d=Object(r.useState)("login"),h=Object(u.a)(d,2),p=h[0],S=h[1],T=Object(r.useState)("user"),A=Object(u.a)(T,2),W=A[0],N=A[1],P=Object(r.useState)(),M=Object(u.a)(P,2),z=M[0],J=M[1],H=Object(r.useState)(!1),U=Object(u.a)(H,2),Y=U[0],L=U[1],V=Object(r.useState)(),G=Object(u.a)(V,2),K=G[0],Q=G[1],X=Object(r.useState)(),Z=Object(u.a)(X,2),$=Z[0],_=Z[1],ee=Object(r.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],re=Object(s.c)(E),ce=Object(u.a)(re,2),ie=(ce[0],ce[1]);function le(){return(le=Object(f.a)(O.a.mark((function e(n){var a,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),L(!0),ae(!1),e.next=5,fetch("http://localhost:3001/auth/login",{method:"POST",body:JSON.stringify({email:K,password:$,userType:W}),headers:{"Content-Type":"application/json"}});case 5:return a=e.sent,e.next=8,a.json();case 8:if(!(a=e.sent).error){e.next=13;break}return ae(a.error),L(!1),e.abrupt("return");case 13:if(r=a.token,c=a.name,j((function(e){return a.token})),localStorage.setItem("token",r),localStorage.setItem("name",c),localStorage.setItem("email",K),localStorage.setItem("userType",W),ie((function(e){return{name:c,email:K}})),t.replace("/wallet"),"user"!=W){e.next=24;break}return e.abrupt("return",t.replace("/wallet"));case 24:t.replace("/merchant/dashboard");case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(f.a)(O.a.mark((function e(n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),L(!0),ae(!1),e.next=5,fetch("http://localhost:3001/auth/signup",{method:"POST",body:JSON.stringify({email:K,password:$,name:z,userType:W}),headers:{"Content-Type":"application/json"}});case 5:return a=e.sent,e.next=8,a.json();case 8:if(!(a=e.sent).error){e.next=13;break}return ae(a.error),L(!1),e.abrupt("return");case 13:if(r=a.token,j((function(e){return a.token})),localStorage.setItem("token",r),localStorage.setItem("name",z),localStorage.setItem("userType",W),localStorage.setItem("email",K),ie((function(e){return{name:z,email:K,userType:W}})),"user"!=W){e.next=22;break}return e.abrupt("return",t.replace("/wallet"));case 22:t.replace("/merchant/dashboard");case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){l&&t.replace("/redirector")}),[]),Object(a.jsx)("div",{style:{height:"100vh",backgroundSize:"cover",alignItems:"center",display:"flex",justifyContent:"center",backgroundImage:"url(".concat(F,")")},children:Object(a.jsx)(I.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)(D.a,{style:{padding:15,alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(a.jsx)(m.a,{className:n.avatar,children:Object(a.jsx)(k.a,{})}),Object(a.jsxs)(C.a,{component:"h1",variant:"h5",children:["Sign ","login"===p?"in":"up"]}),Object(a.jsxs)("form",{onSubmit:"login"==p?function(e){return le.apply(this,arguments)}:function(e){return se.apply(this,arguments)},className:n.form,noValidate:!1,children:["login"===p?null:Object(a.jsx)(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,error:ne,id:"Name",label:"Name",onChange:function(e){return J(e.target.value)}}),Object(a.jsx)(y.a,(e={variant:"outlined",margin:"normal",required:!0,error:!!ne,fullWidth:!0,id:"email",type:"email"},Object(x.a)(e,"required",!0),Object(x.a)(e,"helperText",ne||null),Object(x.a)(e,"label","Email Address"),Object(x.a)(e,"name","email"),Object(x.a)(e,"autoComplete","email"),Object(x.a)(e,"onChange",(function(e){return Q(e.target.value)})),e)),Object(a.jsx)(y.a,{variant:"outlined",margin:"normal",required:!0,error:!!ne,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return _(e.target.value)}}),Object(a.jsx)("center",{children:Object(a.jsxs)(C.a,{component:"h1",variant:"h6",children:["I am a Merchant ",Object(a.jsx)(B.a,{checked:"user"!=W,onChange:function(e){return N(e.target.checked?"merchant":"user")},inputProps:{"aria-label":"primary checkbox"}})]})}),Y?Object(a.jsx)("center",{children:Object(a.jsx)(q.a,{style:{justifyContent:"center"}})}):Object(a.jsxs)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:["Sign ","login"===p?"in":"up"]}),Object(a.jsxs)(w.a,{container:!0,children:[Object(a.jsx)(w.a,{item:!0,xs:!0,children:Object(a.jsx)(v.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(a.jsx)(w.a,{item:!0,children:Object(a.jsx)(v.a,{onClick:function(){S("login"==p?"signup":"login")},variant:"body2",children:"login"!==p?"Sign In Instead":"Don't have an account? Sign Up"})})]})]})]})})})}var M=n(193),z=n(194),J=n(142),H=n(51),U=Object(T.a)((function(e){return{root:{flexGrow:1},title:{justifyContent:"center",display:"flex",flexGrow:1}}}));function Y(){var e=U(),t=Object(s.c)(E),n=Object(u.a)(t,2),r=(n[0],n[1]),c=Object(s.c)(b),i=Object(u.a)(c,2),l=(i[0],i[1]),o=Object(H.useHistory)();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(M.a,{position:"static",children:Object(a.jsxs)(z.a,{children:[Object(a.jsx)(J.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"}),Object(a.jsxs)("div",{style:{height:50,display:"flex",alignItems:"center"},children:[Object(a.jsx)("div",{style:{width:50,marginRight:10},children:Object(a.jsx)("img",{width:"50",src:"https://i.ibb.co/jbKdqjL/user.png"})}),Object(a.jsx)("div",{style:{width:"100%"},children:Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[Object(a.jsx)("h2",{style:{margin:0,letterSpacing:1.3,color:"white"},children:"Merchant 1"}),Object(a.jsx)("h4",{style:{padding:0,margin:0,color:"white"},children:"m1@test.com"})]})})]}),Object(a.jsx)(C.a,{variant:"h6",className:e.title,children:"Merchant Dashboard"}),Object(a.jsx)(g.a,{onClick:function(){r((function(e){return{email:null,name:null,userType:null}})),l((function(e){return null})),localStorage.clear(),o.replace("/login")},color:"inherit",children:"logout"})]})})})}function L(e){return Object(a.jsx)(D.a,{style:{width:"250px",height:100},children:Object(a.jsxs)("div",{style:{height:"100%",justifyContent:"space-evenly",display:"flex",alignItems:"center"},children:[Object(a.jsx)(e.icon,{style:{fontSize:"40",color:e.color}}),Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end"},children:[Object(a.jsx)(C.a,{variant:"h6",component:"p",children:e.title}),Object(a.jsx)(C.a,{variant:"h3",component:"h1",children:e.value})]})]})})}var V=n(91),G=n.n(V),K=n(93),Q=n.n(K),X=n(92),Z=n.n(X),$=n(61),_=n(88);function ee(e){var t,n=[["value","transactions"]],r=1,c=Object($.a)(e.data.reverse());try{for(c.s();!(t=c.n()).done;){var i=t.value;"credit"==i.type&&(n.push([r.toString(),parseFloat(i.amount)]),r++)}}catch(l){c.e(l)}finally{c.f()}return console.log(n),Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(_.a,{options:{legend:{position:"none"},hAxis:{textPosition:"none",title:"Time--\x3e"},vAxis:{title:"Transactions Amount",textPosition:"none"}},curveType:"function",chartType:"AreaChart",width:"100%",height:"400px",data:n})})}var te=n(196),ne=n(200),ae=n(199),re=n(195),ce=n(197),ie=n(198);function le(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),c=n[0],i=n[1];function l(){return(l=Object(f.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.transactions){t.next=8;break}return t.next=3,fetch("http://localhost:3001/wallet/transactions?token=".concat(e.token));case 3:return n=t.sent,t.next=6,n.json();case 6:n=t.sent,i(n.reverse());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){return l.apply(this,arguments)}),[]),Object(a.jsx)("div",{style:{maxHeight:350,overflowY:"scroll",paddingLeft:20,paddingRight:20},children:Object(a.jsx)(re.a,{component:D.a,children:Object(a.jsxs)(te.a,{"aria-label":"simple table",children:[Object(a.jsx)(ce.a,{children:Object(a.jsxs)(ie.a,{children:[Object(a.jsx)(ae.a,{children:"To/From"}),Object(a.jsx)(ae.a,{align:"right",children:"Amount"}),Object(a.jsx)(ae.a,{align:"right",children:"Type\xa0"})]})}),Object(a.jsx)(ne.a,{children:(e.transactions?e.transactions:c).map((function(e){return Object(a.jsxs)(ie.a,{children:[Object(a.jsx)(ae.a,{component:"th",scope:"row",children:e.to.toUpperCase()}),Object(a.jsxs)(ae.a,{align:"right",children:["\u20b9",e.amount]}),Object(a.jsx)(ae.a,{align:"right",children:e.type})]},e.amount)}))})]})})})}var se=n(90),oe=n.n(se);function je(){var e=Object(s.c)(b),t=Object(u.a)(e,2),n=t[0],c=(t[1],Object(s.c)(E)),i=Object(u.a)(c,1)[0],l=Object(r.useState)(0),o=Object(u.a)(l,2),j=o[0],d=o[1],h=Object(r.useState)(0),p=Object(u.a)(h,2),x=p[0],m=p[1],y=Object(r.useState)([]),v=Object(u.a)(y,2),w=v[0],S=v[1],k=Object(r.useState)(),T=Object(u.a)(k,2),I=(T[0],T[1],Object(H.useHistory)());function F(){if("user"===i.userType)return I.replace("/redirector");!function(){B.apply(this,arguments)}(),function(){q.apply(this,arguments)}(),function(){A.apply(this,arguments)}()}function B(){return(B=Object(f.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/wallet/getBalance?token=".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,a=t.balance.toString(),d(a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/wallet/getTotalRecieved?token=".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,m(t.recieved.toString());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)(F,[]);function A(){return(A=Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/wallet/transactions?token=".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,S(t.reverse());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",backgroundColor:"azure",height:"100vh"},children:[Object(a.jsx)("div",{style:{width:"100%"},children:Object(a.jsx)(Y,{})}),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-evenly",marginTop:30,flexWrap:"wrap"},children:[Object(a.jsx)(L,{icon:G.a,color:"#32cd32",title:"Balance",value:"\u20b9".concat(j)}),Object(a.jsx)(L,{icon:Z.a,color:"blue",title:"Total Recieved",value:"\u20b9".concat(x)}),Object(a.jsx)(L,{icon:Q.a,color:"#ff2400",title:"Total Withdrawn",value:"\u20b9".concat(parseFloat(x)-parseFloat(j))})]}),Object(a.jsx)("center",{children:Object(a.jsxs)("div",{style:{width:"100%",marginTop:10,display:"flex",justifyContent:"space-evenly",alignItems:"center"},children:[Object(a.jsxs)(D.a,{style:{width:"60%",margin:20},children:[Object(a.jsx)(C.a,{style:{padding:20},variant:"h6",component:"h1",children:"Transactions"}),Object(a.jsx)(le,{transactions:w,token:n})]}),Object(a.jsx)(D.a,{children:w.length>0?Object(a.jsx)(ee,{data:w}):null})]})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("center",{children:Object(a.jsx)(g.a,{onClick:function(){return W.apply(this,arguments)},color:"secondary",variant:"contained",children:"Refresh Data"})}),Object(a.jsx)(C.a,{style:{padding:20},variant:"h6",component:"h1",children:"Use this QR code to accept payments"}),Object(a.jsx)(D.a,{style:{padding:30,height:200,width:200},children:Object(a.jsx)(oe.a,{id:"qr",value:i.email,size:200})}),Object(a.jsx)("center",{children:Object(a.jsx)(g.a,{style:{marginTop:10},color:"primary",variant:"contained",onClick:function(){var e=document.getElementById("qr").toDataURL("image/png").replace("image/png","image/octet-stream"),t=document.createElement("a");t.href=e,t.download="qr.png",document.body.appendChild(t),t.click(),document.body.removeChild(t)},children:"Download QR"})})]})]})]})}function ue(){var e=Object(s.c)(E),t=Object(u.a)(e,1)[0],n=Object(H.useHistory)();return Object(r.useEffect)((function(){return t.userType?"user"===t.userType?n.replace("/wallet"):void n.replace("/merchant/dashboard"):n.replace("/login")}),[]),null}var de=n(98),be=n.n(de),he=n(99),pe=n.n(he),Oe=n(97),xe=n.n(Oe),fe=n(96),me=n.n(fe),ge=n(187),ye=n(188),ve=n(206),we=n(201),Se=n(203),ke=n(94),Ce=n.n(ke);function Te(e){var t=Object(r.useState)(),n=Object(u.a)(t,2),c=n[0],i=n[1],l=Object(r.useState)(!1),s=Object(u.a)(l,2),o=s[0],j=s[1],d=Object(r.useState)(),b=Object(u.a)(d,2),h=b[0],p=b[1],m=Object(r.useState)(),v=Object(u.a)(m,2),w=v[0],S=v[1],k=Object(r.useState)(),C=Object(u.a)(k,2),T=C[0],I=C[1],F=Object(r.useState)(),D=Object(u.a)(F,2),B=D[0],A=D[1],W=Object(r.useState)(!1),N=Object(u.a)(W,2),E=N[0],R=N[1],P=Object(r.useState)(),M=Object(u.a)(P,2),z=M[0],J=M[1],H=Object(r.useState)(!1),U=Object(u.a)(H,2),Y=U[0],L=U[1],V=Object(r.useState)(),G=Object(u.a)(V,2),K=G[0],Q=G[1];function X(){return(X=Object(f.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,fetch("http://localhost:3001/getMerchantName",{method:"POST",body:JSON.stringify({email:t}),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:if(n=e.sent,L(!1),!n.error){e.next=10;break}return e.abrupt("return");case 10:J(n.name),A(t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return $.apply(this,arguments)}function $(){return($=Object(f.a)(O.a.mark((function t(n,a){var r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=h,"qr"==a&&(r=B),E){t.next=20;break}return Q(),I(!0),j(!1),t.next=9,fetch("http://localhost:3001/wallet/addTransaction?token=".concat(e.token),{method:"POST",body:JSON.stringify({to:r,amount:w}),headers:{"Content-Type":"application/json"}});case 9:return c=t.sent,t.next=12,c.json();case 12:if(!(c=t.sent).error){t.next=17;break}return j(c.error),I(!1),t.abrupt("return");case 17:Q(c.msg),I(!1),e.updateBalance();case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.jsxs)("center",{children:[Object(a.jsxs)(ge.a,{component:"fieldset",children:[Object(a.jsx)(ye.a,{component:"legend",children:"Select the user type"}),Object(a.jsxs)(ve.a,{row:!0,onChange:function(e){return i(e.target.value)},children:[Object(a.jsx)(we.a,{value:"merchant",control:Object(a.jsx)(Se.a,{}),label:"Merchant"}),Object(a.jsx)(we.a,{value:"user",control:Object(a.jsx)(Se.a,{}),label:"User"})]})]}),c?"user"==c?function(){var t;return Object(a.jsx)("div",{style:{width:"60%",display:"flex"},children:Object(a.jsxs)("form",{onSubmit:Z,noValidate:!1,children:[Object(a.jsx)(y.a,(t={variant:"outlined",margin:"normal",required:!0,error:!!o,fullWidth:!0,id:"email",type:"email"},Object(x.a)(t,"required",!0),Object(x.a)(t,"helperText",o?"User with this Email not found":null),Object(x.a)(t,"label","Email Address"),Object(x.a)(t,"name","email"),Object(x.a)(t,"autoComplete","email"),Object(x.a)(t,"onChange",(function(e){return p(e.target.value)})),t)),Object(a.jsx)(y.a,{variant:"outlined",margin:"normal",required:!0,error:E,fullWidth:!0,type:"number",helperText:E?"Your Balance is low!":null,label:"Amount",onChange:function(t){parseFloat(e.currentBalance)<parseFloat(t.target.value)?R(!0):(R(!1),S(t.target.value))}}),T?Object(a.jsx)("center",{children:Object(a.jsx)(q.a,{style:{justifyContent:"center"}})}):Object(a.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:Z,children:"Send"})]})})}():Object(a.jsx)("div",{style:{width:"100%"},children:null!=B?Object(a.jsxs)("div",{style:{width:"60%"},children:[Object(a.jsxs)("h3",{children:["Paying to ",z]}),Object(a.jsx)(y.a,{variant:"outlined",margin:"normal",required:!0,error:E,fullWidth:!0,type:"number",helperText:E?"Your Balance is low!":null,label:"Amount",onChange:function(t){parseFloat(e.currentBalance)<parseFloat(t.target.value)?R(!0):(R(!1),S(t.target.value))}}),T?Object(a.jsx)("center",{children:Object(a.jsx)(q.a,{style:{justifyContent:"center"}})}):Object(a.jsx)(g.a,{type:"submit",fullWidth:!0,style:{marginTop:10},variant:"contained",color:"primary",onClick:function(e){return Z(e,"qr")},children:"Send"})]}):Y?Object(a.jsx)(q.a,{}):Object(a.jsx)(Ce.a,{onError:function(e){return console.log(e)},onScan:function(e){e&&function(e){X.apply(this,arguments)}(e)},style:{width:"60%",display:"flex",flex:1}})}):null,Object(a.jsx)("center",{children:Object(a.jsx)("h3",{children:K})})]})}function Ie(e){var t,n=Object(r.useState)(),c=Object(u.a)(n,2),i=c[0],l=c[1],s=Object(r.useState)(!1),o=Object(u.a)(s,2),j=o[0],d=o[1],b=Object(r.useState)(null),h=Object(u.a)(b,2),p=h[0],m=h[1];function v(){return(v=Object(f.a)(O.a.mark((function t(n){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),m(),d(!0),t.next=5,fetch("http://localhost:3001/wallet/addMoney?token=".concat(e.token),{method:"POST",body:JSON.stringify({amount:i}),headers:{"Content-Type":"application/json"}});case 5:return a=t.sent,t.next=8,a.json();case 8:if(!(a=t.sent).error){t.next=12;break}return d(!1),t.abrupt("return");case 12:m(a.msg),d(!1),e.updateBalance();case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.jsxs)("center",{children:[Object(a.jsx)("div",{style:{width:"60%"},children:Object(a.jsxs)("form",{onSubmit:function(e){return v.apply(this,arguments)},noValidate:!1,children:[Object(a.jsx)(y.a,(t={variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"text"},Object(x.a)(t,"required",!0),Object(x.a)(t,"label","Enter Amount"),Object(x.a)(t,"autoComplete","email"),Object(x.a)(t,"onChange",(function(e){return l(e.target.value)})),t)),Object(a.jsx)(y.a,{variant:"outlined",margin:"normal",fullWidth:!0,type:"text",label:"Card Number",autoComplete:"email",onChange:function(e){return l(e.target.value)}}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(y.a,{variant:"outlined",margin:"normal",fullWidth:!0,type:"text",label:"Cvv",autoComplete:"email",onChange:function(e){return l(e.target.value)}}),Object(a.jsx)("div",{style:{width:10}}),Object(a.jsx)(y.a,{variant:"outlined",margin:"normal",fullWidth:!0,type:"text",label:"Expiry(MMYY)",autoComplete:"email",onChange:function(e){return l(e.target.value)}})]})," ",j?Object(a.jsx)("center",{children:Object(a.jsx)(q.a,{style:{justifyContent:"center"}})}):Object(a.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"Add"})]})}),Object(a.jsx)("h2",{children:p})]})}var Fe={div:{height:"100vh",margin:"0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundSize:"cover",backgroundImage:"url(".concat(F,")")},indiv1:{display:"flex",flex:3,justifyContent:"flex-start",padding:10,backgroundColor:"azure"},indiv2:{display:"flex",flex:3,justifyContent:"flex-start",padding:10}};function De(){var e=Object(s.c)(b),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(o.useHistory)(),l=Object(s.c)(E),j=Object(u.a)(l,2),d=j[0],h=(j[1],Object(r.useState)(null)),p=Object(u.a)(h,2),x=p[0],m=p[1],y=Object(r.useState)(null),v=Object(u.a)(y,2),w=v[0],S=v[1];function k(){return C.apply(this,arguments)}function C(){return(C=Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("merchant"!==d.userType){e.next=2;break}return e.abrupt("return",i.replace("/merchant/dashboard"));case 2:return e.next=5,fetch("http://localhost:3001/wallet/getBalance?token=".concat(n));case 5:return t=e.sent,e.next=8,t.json();case 8:t=e.sent,m(t.balance.toString());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)(k,[]),Object(a.jsxs)("div",{style:Fe.div,children:[Object(a.jsx)(D.a,{style:{padding:10},children:Object(a.jsxs)("div",{style:{display:"flex",width:500,flexDirection:"column"},children:[Object(a.jsxs)("div",{style:Fe.indiv1,children:[Object(a.jsx)("div",{style:{width:50,marginRight:10},children:Object(a.jsx)("img",{width:"50",src:"https://i.ibb.co/jbKdqjL/user.png"})}),Object(a.jsx)("div",{style:{width:"100%"},children:Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[Object(a.jsx)("h2",{style:{margin:0,letterSpacing:1.3,color:"#2D2D33"},children:d.name}),Object(a.jsx)("h4",{style:{padding:0,margin:0,color:"#0F4FF5"},children:d.email})]})})]}),Object(a.jsx)("div",{style:Fe.indiv1,children:Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",width:"100%",alignItems:"center",textAlign:"center"},children:[Object(a.jsx)("h2",{style:{letterSpacing:1.3,color:"#9D968C",textAlign:"center"},children:"Balance"}),null!=x?Object(a.jsxs)("h2",{style:{color:"#0F4FF5",textAlign:"center"},children:["\u20b9",x]}):Object(a.jsx)(q.a,{})]})}),w?Object(a.jsxs)("div",{children:[Object(a.jsx)(g.a,{onClick:function(){return S(null)},children:Object(a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(a.jsx)(me.a,{}),Object(a.jsx)("p",{children:"Back"})]})}),"transactions"==w?Object(a.jsx)(le,{updateBalance:k,token:n}):"add"==w?Object(a.jsx)(Ie,{token:n,updateBalance:k}):"send"==w?Object(a.jsx)(Te,{currentBalance:x,token:n,updateBalance:k}):void 0]}):Object(a.jsx)("div",{style:Fe.indiv2,children:Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",width:"100%",alignItems:"center",textAlign:"center"},children:[Object(a.jsx)(g.a,{onClick:function(){return S("send")},children:Object(a.jsxs)("div",{children:[Object(a.jsx)(xe.a,{style:{color:"0F4FF5"}}),Object(a.jsx)("p",{style:{margin:0},children:"Send"})]})}),Object(a.jsx)("div",{children:Object(a.jsx)(g.a,{onClick:function(){return S("transactions")},children:Object(a.jsxs)("div",{children:[Object(a.jsx)(be.a,{style:{color:"0F4FF5"}}),Object(a.jsx)("p",{style:{margin:0},children:"Transactions"})]})})}),Object(a.jsx)(g.a,{onClick:function(){return S("add")},children:Object(a.jsxs)("div",{children:[Object(a.jsx)(pe.a,{style:{color:"0F4FF5"}}),Object(a.jsx)("p",{style:{margin:0},children:"Add Money"})]})})]})})]})}),Object(a.jsx)(g.a,{onClick:function(){localStorage.clear(),c((function(e){return null})),i.replace("/login")},style:{marginTop:20},variant:"contained",children:"Sign Out"})]})}n(137);function Be(){return Object(a.jsxs)(o.Switch,{children:[Object(a.jsx)(h,{path:"/wallet",children:Object(a.jsx)(De,{})}),Object(a.jsx)(o.Route,{path:"/login",children:Object(a.jsx)(P,{})}),Object(a.jsx)(o.Route,{path:"/merchant/dashboard",children:Object(a.jsx)(je,{})}),Object(a.jsx)(o.Route,{path:"/*",children:Object(a.jsx)(ue,{})})]})}var qe=document.getElementById("root");i.a.render(Object(a.jsx)(s.a,{children:Object(a.jsx)(l.a,{children:Object(a.jsx)(Be,{})})}),qe)}},[[138,1,2]]]);
//# sourceMappingURL=main.876dd0b9.chunk.js.map