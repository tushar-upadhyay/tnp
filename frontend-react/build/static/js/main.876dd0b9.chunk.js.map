{"version":3,"sources":["atoms/authAtom.js","components/privateRoute.js","bg.png","atoms/userAtom.js","screens/login_screen.js","components/appBar.js","components/tile.js","components/charts.js","components/transactionList.js","screens/merchant_dashboard.js","screens/redirector.js","components/send.js","components/addMoney.js","screens/wallet_screen.js","App.js","index.js"],"names":["authAtom","atom","localStorage","getItem","PrivateRoute","children","rest","useAtom","auth","render","location","to","pathname","state","from","name","email","userType","userAtom","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","div","height","backgroundSize","backgroundImage","Image","form","width","submit","LoginScreen","history","useHistory","classes","setAuth","useState","type","setType","setUserType","setName","isLoading","setLoading","setEmail","password","setPassword","error","setError","setUser","e","a","preventDefault","fetch","method","body","JSON","stringify","headers","res","json","token","setItem","replace","useEffect","style","justifyContent","Container","component","maxWidth","Paper","padding","Avatar","className","Typography","variant","onSubmit","noValidate","TextField","required","fullWidth","id","label","onChange","target","value","autoComplete","Checkbox","checked","inputProps","CircularProgress","Button","color","Grid","container","item","xs","Link","href","onClick","root","flexGrow","title","Appbar","updateUser","updateToken","AppBar","position","Toolbar","IconButton","edge","menuButton","aria-label","marginRight","src","letterSpacing","clear","Tile","props","icon","fontSize","Charts","data","counter","reverse","d","push","toString","parseFloat","console","log","options","legend","hAxis","textPosition","vAxis","curveType","chartType","TransactionList","transactions","setTransactions","maxHeight","overflowY","paddingLeft","paddingRight","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","map","t","scope","toUpperCase","amount","MerchantDashboard","user","balance","updateBalance","recieved","setRecieved","getAllData","fetchBalance","getRecieved","getTransactions","flexWrap","AccountBalanceWalletIcon","ArrowDownwardIcon","AccountBalanceIcon","length","size","pngUrl","document","getElementById","toDataURL","downloadLink","createElement","download","appendChild","click","removeChild","Redirector","Send","setAmount","qrValue","setQrValue","amountError","setAmountError","merchantName","setMerchantName","isGettingMerchantName","setIsGettingMerchantName","msg","setMsg","em","send","FormControl","FormLabel","RadioGroup","row","FormControlLabel","control","Radio","helperText","currentBalance","userForm","onError","onScan","getMerchantName","flex","AddMoney","styles","indiv1","indiv2","Wallet","viewMode","setViewMode","textAlign","App","path","rootElement","ReactDOM"],"mappings":"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","file":"static/js/main.876dd0b9.chunk.js","sourcesContent":["import { atom } from \"jotai\";\r\nexport const authAtom = atom(localStorage.getItem(\"token\") || null);\r\n","import React, { useEffect } from \"react\";\r\nimport { useAtom } from \"jotai\";\r\nimport { authAtom } from \"../atoms/authAtom\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nexport default function PrivateRoute({ children, ...rest }) {\r\n  let [auth, _] = useAtom(authAtom);\r\n\r\n  // useEffect(() => console.log(auth), [auth]);\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        auth ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bg.279ce339.png\";","import {atom} from 'jotai';\r\nlet name = null;\r\nlet email = null;\r\nlet userType = null;\r\nif(localStorage.getItem('token')){\r\n     name = localStorage.getItem('name');\r\n     email = localStorage.getItem('email');\r\n     userType = localStorage.getItem('userType');\r\n}\r\nexport const userAtom = atom({name,email,userType});","import React, { useState, useEffect } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { useAtom } from \"jotai\";\r\nimport { authAtom } from \"../atoms/authAtom\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Image from \"../bg.png\";\r\nimport { Checkbox, CircularProgress, Paper } from \"@material-ui/core\";\r\nimport { userAtom } from \"../atoms/userAtom\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  div: {\r\n    height: \"100vh\",\r\n    backgroundSize: \"cover\",\r\n    backgroundImage: `url(${Image})`,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function LoginScreen() {\r\n  let history = useHistory();\r\n  const classes = useStyles();\r\n  const [auth, setAuth] = useAtom(authAtom);\r\n  const [type, setType] = useState(\"login\");\r\n  const [userType,setUserType] = useState('user');\r\n  const [name, setName] = useState();\r\n  const [isLoading,setLoading] = useState(false);\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [error,setError] = useState(false);\r\n  const [user,setUser] = useAtom(userAtom);\r\n  async function login(e) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(false);\r\n    let res =  await fetch('http://localhost:3001/auth/login',{method:'POST',body:JSON.stringify({email,password,userType}), headers: {\r\n      'Content-Type': 'application/json'\r\n    },});\r\n    res = await res.json()\r\n\r\n    if(res['error']){\r\n      setError(res['error']);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    let token = res['token'];\r\n    let name =  res['name'];\r\n    setAuth((e) => res['token']);\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"name\",name);\r\n    localStorage.setItem('email',email);\r\n    localStorage.setItem('userType',userType);\r\n    setUser(e=>({name,email}));\r\n    history.replace(\"/wallet\");\r\n    if(userType=='user'){\r\n      return history.replace(\"/wallet\");\r\n      }\r\n      history.replace('/merchant/dashboard');\r\n  }\r\n  useEffect(()=>{\r\n    if(auth) history.replace('/redirector');\r\n  },[]);\r\n  async function signup(e) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(false);\r\n    let res =  await fetch('http://localhost:3001/auth/signup',{method:'POST',body:JSON.stringify({email,password,name,userType}), headers: {\r\n      'Content-Type': 'application/json'\r\n    },});\r\n    res = await res.json()\r\n    if(res['error']){\r\n      setError(res['error']);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    let token = res['token'];\r\n    setAuth((e) => res['token']);\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"name\",name);\r\n    localStorage.setItem(\"userType\",userType);\r\n    localStorage.setItem('email',email);\r\n    setUser(e=>({name,email,userType}));\r\n    if(userType=='user'){\r\n    return history.replace(\"/wallet\");\r\n    }\r\n    history.replace('/merchant/dashboard');\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        height: \"100vh\",\r\n        backgroundSize: \"cover\",\r\n        alignItems: \"center\",\r\n        display: \"flex\",\r\n        justifyContent:'center',\r\n        backgroundImage: `url(${Image})`,\r\n      }}\r\n    >\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <Paper\r\n          style={{\r\n            padding: 15,\r\n            alignItems: \"center\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n          }}\r\n        >\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign {type === \"login\" ? \"in\" : \"up\"}\r\n          </Typography>\r\n          <form onSubmit={type=='login'?login:signup} className={classes.form} noValidate={false}>\r\n            {type === \"login\" ? null : (\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                error={error}\r\n                id=\"Name\"\r\n                label=\"Name\"\r\n                onChange={(e) => setName(e.target.value)}\r\n              />\r\n            )}\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              error={error?true:false}\r\n              fullWidth\r\n              id=\"email\"\r\n              type=\"email\"\r\n              required\r\n              helperText={error?error:null}\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              error={error?true:false}\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <center>\r\n            <Typography component=\"h1\" variant=\"h6\">\r\n              I am a Merchant <Checkbox\r\n        checked={userType=='user'?false:true}\r\n        onChange={(e)=>setUserType(e.target.checked?'merchant':'user')}\r\n        inputProps={{ 'aria-label': 'primary checkbox' }}\r\n      />\r\n            </Typography>\r\n             </center>\r\n            {!isLoading?<Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign {type === \"login\" ? \"in\" : \"up\"}\r\n            </Button>:<center><CircularProgress style={{justifyContent:\"center\"}}/></center>}\r\n            \r\n            <Grid container>\r\n              <Grid item xs>\r\n                <Link href=\"#\" variant=\"body2\">\r\n                  Forgot password?\r\n                </Link>\r\n              </Grid>\r\n              <Grid item>\r\n                <Link\r\n                  onClick={() => {\r\n                    setType(type == \"login\" ? \"signup\" : \"login\");\r\n                  }}\r\n                  variant=\"body2\"\r\n                >\r\n                  {type !== \"login\"\r\n                    ? \"Sign In Instead\"\r\n                    : \"Don't have an account? Sign Up\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </Paper>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport { useAtom } from 'jotai';\r\nimport { userAtom } from '../atoms/userAtom';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { authAtom } from '../atoms/authAtom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n \r\n  title: {\r\n      justifyContent:'center',\r\n      display:'flex',\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function Appbar() {\r\n  const classes = useStyles();\r\n  const [_,updateUser] = useAtom(userAtom);\r\n  const [__,updateToken] = useAtom(authAtom);\r\n  const history = useHistory();\r\n  function logout(){\r\n    updateUser(e=>({\r\n      email:null,\r\n      name:null,\r\n      userType:null\r\n    }))\r\n    updateToken(e=>null);\r\n    localStorage.clear();\r\n    history.replace('/login');\r\n  }\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n           \r\n          </IconButton>\r\n          <div style={{height:50,display:'flex',alignItems:'center'}}>\r\n            <div\r\n              style={{width: 50, marginRight: 10 }}\r\n\r\n            ><img width=\"50\" src={('https://i.ibb.co/jbKdqjL/user.png')}/></div>\r\n            <div style={{ width: \"100%\" }}>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  justifyContent: \"flex-start\",\r\n                }}\r\n              >\r\n                <h2 style={{ margin: 0, letterSpacing: 1.3, color: \"white\" }}>\r\n                  Merchant 1\r\n                </h2>\r\n                <h4 style={{ padding: 0, margin: 0, color: \"white\" }}>\r\n                    m1@test.com\r\n                </h4>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Merchant Dashboard\r\n          </Typography>\r\n          <Button onClick={logout} color=\"inherit\">logout</Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}","import { Paper, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\r\nexport default  function Tile(props){\r\n    return (\r\n        <Paper style={{width:\"250px\",height:100}}>\r\n        <div style={{height:'100%',justifyContent:'space-evenly',display:'flex',alignItems:'center'}}>\r\n          <props.icon style={{fontSize:'40',color:props.color}}/>\r\n          <div style={{display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'flex-end'}}>\r\n            <Typography variant=\"h6\" component=\"p\">\r\n                {props.title}\r\n            </Typography>\r\n            <Typography variant=\"h3\" component=\"h1\">\r\n               {props.value}\r\n            </Typography>\r\n          </div>\r\n          \r\n        </div>\r\n        {/* <hr style={{width:'100%'}}/> */}\r\n        {/* <div style={{justifyContent:'center',alignItems:'flex-start',display:'flex',flexDirection:'row',color:'#9D968C'}} >\r\n         <RefreshIcon/>Refresh\r\n        </div> */}\r\n      </Paper>\r\n    );\r\n}","import React from \"react\";\r\nimport Chart from \"react-google-charts\";\r\n\r\nexport default function Charts(props) {\r\n  const data = [['value','transactions']];\r\n  let counter = 1;\r\n  for (let d of props.data.reverse()){\r\n    if(d['type']=='credit'){\r\n    data.push([counter.toString(),parseFloat(d['amount'])]);\r\n    counter++;\r\n    }\r\n   \r\n  }\r\n  console.log(data)\r\n    return (\r\n      <div className=\"App\">\r\n        <Chart\r\n        \r\n          options={{\r\n           \r\n            legend:{\r\n              position:'none'\r\n            },\r\n          \r\n            hAxis: {\r\n              textPosition:'none',\r\n              title:'Time-->',\r\n            \r\n            },\r\n            vAxis: {\r\n              title:'Transactions Amount',\r\n              textPosition:'none',\r\n\r\n             \r\n            },\r\n          }}\r\n          curveType=\"function\"\r\n          chartType=\"AreaChart\"\r\n          width=\"100%\"\r\n          height=\"400px\"\r\n          data={data}\r\n        />\r\n      </div>\r\n    );\r\n}\r\n","\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { Button } from \"@material-ui/core\";\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nexport default function TransactionList(props){\r\n    const [transactions,setTransactions] = useState([]);\r\n    useEffect(fetchTransactions,[]);\r\n\r\n    async function fetchTransactions(){\r\n      if(!props.transactions){\r\n        let res = await fetch(`http://localhost:3001/wallet/transactions?token=${props.token}`);\r\n        res = await res.json();\r\n        setTransactions(res.reverse());\r\n      }\r\n    }\r\n    return (\r\n        <div style={{maxHeight:350,overflowY:'scroll',paddingLeft:20,paddingRight:20}}>\r\n                   \r\n            <TableContainer component={Paper}>\r\n      <Table aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>To/From</TableCell>\r\n            <TableCell align=\"right\">Amount</TableCell>\r\n            <TableCell align=\"right\">Type&nbsp;</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {(props.transactions?props.transactions:transactions).map((t) => (\r\n            <TableRow key={t.amount}>\r\n              <TableCell component=\"th\" scope=\"row\">\r\n              {t.to.toUpperCase()}\r\n              </TableCell>\r\n              <TableCell align=\"right\">₹{t.amount}</TableCell>\r\n              <TableCell align=\"right\">{t.type}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n","import { Button, Paper, Typography } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport AppBar from \"../components/appBar\";\r\nimport Tile from \"../components/tile\";\r\nimport AccountBalanceWalletIcon from \"@material-ui/icons/AccountBalanceWallet\";\r\nimport AccountBalanceIcon from \"@material-ui/icons/AccountBalance\";\r\nimport ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\r\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\r\nimport MyChart from \"../components/charts\";\r\nimport TransactionList from \"../components/transactionList\";\r\nimport { useAtom } from \"jotai\";\r\nimport { userAtom } from \"../atoms/userAtom\";\r\nimport { authAtom } from \"../atoms/authAtom\";\r\nimport QRCode from \"qrcode.react\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nexport default function MerchantDashboard() {\r\n  const [token, _] = useAtom(authAtom);\r\n  const [user] = useAtom(userAtom);\r\n  const [balance, updateBalance] = useState(0);\r\n  const [recieved, setRecieved] = useState(0);\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [refreshTransaction, urefreshTransactions] = useState();\r\n  const history = useHistory();\r\n  useEffect(getAllData, []);\r\n  function getAllData() {\r\n    if (user[\"userType\"] === \"user\") {\r\n      return history.replace(\"/redirector\");\r\n    }\r\n    fetchBalance();\r\n    getRecieved();\r\n    getTransactions();\r\n  }\r\n  async function fetchBalance() {\r\n    \r\n    let res = await fetch(\r\n      `http://localhost:3001/wallet/getBalance?token=${token}`\r\n    );\r\n    res = await res.json();\r\n    let balance = res[\"balance\"].toString();\r\n    updateBalance(balance);\r\n  }\r\n  async function getRecieved() {\r\n    let res = await fetch(\r\n      `http://localhost:3001/wallet/getTotalRecieved?token=${token}`\r\n    );\r\n    res = await res.json();\r\n    setRecieved(res[\"recieved\"].toString());\r\n  }\r\n  const downloadQR = () => {\r\n    const canvas = document.getElementById(\"qr\");\r\n    const pngUrl = canvas\r\n      .toDataURL(\"image/png\")\r\n      .replace(\"image/png\", \"image/octet-stream\");\r\n    let downloadLink = document.createElement(\"a\");\r\n    downloadLink.href = pngUrl;\r\n    downloadLink.download = \"qr.png\";\r\n    document.body.appendChild(downloadLink);\r\n    downloadLink.click();\r\n    document.body.removeChild(downloadLink);\r\n  };\r\n  async function getTransactions() {\r\n    let res = await fetch(\r\n      `http://localhost:3001/wallet/transactions?token=${token}`\r\n    );\r\n    res = await res.json();\r\n    setTransactions(res.reverse());\r\n  }\r\n  async function refreshData() {\r\n    getAllData();\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        backgroundColor: \"azure\",\r\n        height: \"100vh\",\r\n      }}\r\n    >\r\n      <div style={{ width: \"100%\" }}>\r\n        <AppBar />\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          width: \"100%\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <div style={{ width: \"100%\" }}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              width: \"100%\",\r\n              justifyContent: \"space-evenly\",\r\n              marginTop: 30,\r\n              flexWrap: \"wrap\",\r\n            }}\r\n          >\r\n            <Tile\r\n              icon={AccountBalanceWalletIcon}\r\n              color=\"#32cd32\"\r\n              title=\"Balance\"\r\n              value={`₹${balance}`}\r\n            />\r\n            <Tile\r\n              icon={ArrowDownwardIcon}\r\n              color=\"blue\"\r\n              title=\"Total Recieved\"\r\n              value={`₹${recieved}`}\r\n            />\r\n            <Tile\r\n              icon={AccountBalanceIcon}\r\n              color=\"#ff2400\"\r\n              title=\"Total Withdrawn\"\r\n              value={`₹${parseFloat(recieved) - parseFloat(balance)}`}\r\n            />\r\n          </div>\r\n          <center>\r\n            <div\r\n              style={{\r\n                width: \"100%\",\r\n                marginTop: 10,\r\n                display: \"flex\",\r\n                justifyContent: \"space-evenly\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <Paper style={{ width: \"60%\", margin: 20 }}>\r\n                <Typography style={{ padding: 20 }} variant=\"h6\" component=\"h1\">\r\n                  Transactions\r\n                </Typography>\r\n                <TransactionList transactions={transactions} token={token} />\r\n              </Paper>\r\n              <Paper>\r\n                {transactions.length > 0 ? (\r\n                  <MyChart data={transactions} />\r\n                ) : null}\r\n              </Paper>\r\n            </div>\r\n          </center>\r\n        </div>\r\n        <div>\r\n          <center>\r\n            <Button onClick={refreshData} color=\"secondary\" variant=\"contained\">\r\n              Refresh Data\r\n            </Button>\r\n          </center>\r\n          <Typography style={{ padding: 20 }} variant=\"h6\" component=\"h1\">\r\n            Use this QR code to accept payments\r\n          </Typography>\r\n          <Paper style={{ padding: 30, height: 200, width: 200 }}>\r\n            <QRCode id=\"qr\" value={user.email} size={200} />\r\n          </Paper>\r\n          <center>\r\n            <Button\r\n              style={{ marginTop: 10 }}\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              onClick={downloadQR}\r\n            >\r\n              Download QR\r\n            </Button>\r\n          </center>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n  \r\n}\r\n","import { useAtom } from \"jotai\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { userAtom } from \"../atoms/userAtom\";\r\nexport default function Redirector(){\r\n    const [user,] = useAtom(userAtom);\r\n    const history = useHistory();\r\n    useEffect(()=>{\r\n        if(!user['userType']) return history.replace('/login');\r\n        if(user['userType']==='user'){\r\n             return  history.replace('/wallet')\r\n        }\r\n        history.replace('/merchant/dashboard');\r\n    },[])\r\n    return null;\r\n}","import { FormControl, FormControlLabel, FormLabel, Radio, RadioGroup, TextField,Button ,CircularProgress} from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport QrReader from \"react-qr-reader\"\r\nexport default function Send(props) {\r\n  const [type, setType]  = useState();\r\n  const [error,setError] = useState(false);\r\n  const [email, setEmail] = useState();\r\n  const [amount, setAmount] = useState();\r\n  const [isLoading, setLoading] = useState();\r\n  const [qrValue,setQrValue] = useState();\r\n  const [amountError,setAmountError] = useState(false);\r\n  const [merchantName,setMerchantName] = useState();\r\n  const [isGettingMerchantName,setIsGettingMerchantName] = useState(false);\r\n  const [msg,setMsg] = useState();\r\n  async function getMerchantName(em){\r\n    setIsGettingMerchantName(true);\r\n    let res =  await fetch(`http://localhost:3001/getMerchantName`,{method:'POST',body:JSON.stringify({email:em}), headers: {\r\n      'Content-Type': 'application/json'\r\n    },});\r\n    res = await res.json()\r\n    setIsGettingMerchantName(false);\r\n    if(res['error']){\r\n      \r\n      return;\r\n    }\r\n    setMerchantName(res['name']);\r\n    setQrValue(em);\r\n  }\r\n  async function send(e,type){\r\n    e.preventDefault();\r\n    let to = email;\r\n    if(type=='qr'){\r\n      to = qrValue;\r\n    }\r\n    if(!amountError){\r\n    setMsg();\r\n    setLoading(true);\r\n    setError(false);\r\n    let res =  await fetch(`http://localhost:3001/wallet/addTransaction?token=${props.token}`,{method:'POST',body:JSON.stringify({to,amount}), headers: {\r\n      'Content-Type': 'application/json'\r\n    },});\r\n    res = await res.json()\r\n    if(res['error']){\r\n      setError(res['error']);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    setMsg(res['msg'])\r\n    setLoading(false);\r\n    props.updateBalance();\r\n}\r\n  }\r\n  function userForm(){\r\n      return (\r\n          <div style={{width:'60%',display:'flex'}}>\r\n        <form onSubmit={send} noValidate={false}>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          error={error?true:false}\r\n          fullWidth\r\n          id=\"email\"\r\n          type=\"email\"\r\n          required\r\n          helperText={error?\"User with this Email not found\":null}\r\n          label=\"Email Address\"\r\n          name=\"email\"\r\n          autoComplete=\"email\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          error={amountError}\r\n          fullWidth\r\n          type=\"number\"\r\n          helperText={amountError?'Your Balance is low!':null}\r\n          label=\"Amount\"\r\n          onChange={(e) => {\r\n              if(parseFloat(props.currentBalance)<parseFloat(e.target.value)    ){\r\n                  setAmountError(true);\r\n              }\r\n              else{\r\n                  setAmountError(false);\r\n                  setAmount(e.target.value)\r\n              }\r\n             \r\n            }}\r\n        />\r\n      {!isLoading?<Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={send}\r\n            >\r\n              Send\r\n            </Button>:<center><CircularProgress style={{justifyContent:\"center\"}}/></center>}\r\n\r\n      </form>\r\n      </div>\r\n   \r\n      );\r\n  }\r\n  return (\r\n        <center>\r\n      <FormControl component=\"fieldset\">\r\n        <FormLabel component=\"legend\">Select the user type</FormLabel>\r\n        <RadioGroup row\r\n        onChange={(e)=>setType(e.target.value)}\r\n        // value={type}\r\n        >\r\n          <FormControlLabel value=\"merchant\" control={<Radio />} label=\"Merchant\" />\r\n          <FormControlLabel value=\"user\" control={<Radio />} label=\"User\" />\r\n        </RadioGroup>\r\n</FormControl>\r\n        {type?(type=='user'?userForm():(\r\n          <div style={{width:'100%'}}>\r\n            {qrValue!=null?(\r\n              <div style={{width:'60%'}}>\r\n                <h3>Paying to {merchantName}</h3>\r\n            <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          error={amountError}\r\n          fullWidth\r\n          type=\"number\"\r\n          helperText={amountError?'Your Balance is low!':null}\r\n          label=\"Amount\"\r\n          onChange={(e) => {\r\n              if(parseFloat(props.currentBalance)<parseFloat(e.target.value)    ){\r\n                  setAmountError(true);\r\n              }\r\n              else{\r\n                  setAmountError(false);\r\n                  setAmount(e.target.value)\r\n              }\r\n             \r\n            }}\r\n        />\r\n            {!isLoading?<Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              style={{marginTop:10}}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick = {e=>send(e,'qr')}\r\n            >\r\n              Send\r\n            </Button>:<center><CircularProgress style={{justifyContent:\"center\"}}/></center>\r\n           \r\n            }</div>\r\n            ):isGettingMerchantName?<CircularProgress />:(<QrReader\r\n          onError={(e=>console.log(e))}\r\n          onScan={(e)=>{\r\n            if(e) getMerchantName(e);\r\n\r\n          }}\r\n          style={{width:'60%',display:'flex',flex:1}}\r\n           />)}\r\n            \r\n           </div>\r\n        )):null}\r\n        <center>\r\n        <h3>{msg}</h3>\r\n        </center>\r\n    \r\n      </center>\r\n  \r\n \r\n  );\r\n}\r\n","import { TextField, Button, CircularProgress } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nexport default function AddMoney(props) {\r\n  const [amount, setAmount] = useState();\r\n  const [isLoading, setLoading] = useState(false);\r\n  const [msg,setMsg] = useState(null);\r\n  async function add(e){\r\n    e.preventDefault();\r\n    setMsg();\r\n    setLoading(true);\r\n  \r\n    let res =  await fetch(`http://localhost:3001/wallet/addMoney?token=${props.token}`,{method:'POST',body:JSON.stringify({amount}), headers: {\r\n      'Content-Type': 'application/json'\r\n    },});\r\n    res = await res.json()\r\n    if(res['error']){\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    setMsg(res['msg'])\r\n    setLoading(false);\r\n    props.updateBalance();\r\n\r\n  }\r\n  return (\r\n    <center>\r\n      <div style={{ width: \"60%\" }}>\r\n        <form onSubmit={add} noValidate={false}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            type=\"text\"\r\n            required\r\n            label=\"Enter Amount\"\r\n            autoComplete=\"email\"\r\n            onChange={(e) => setAmount(e.target.value)}\r\n\r\n          />\r\n           <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n     \r\n          fullWidth\r\n          type=\"text\"\r\n          label=\"Card Number\"\r\n          autoComplete=\"email\"\r\n          onChange={(e) => setAmount(e.target.value)}\r\n        />\r\n        <div style={{display:'flex'}}>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n         \r\n          fullWidth\r\n          type=\"text\"\r\n          label=\"Cvv\"\r\n          autoComplete=\"email\"\r\n          onChange={(e) => setAmount(e.target.value)}\r\n          />\r\n          <div style={{width:10}}/>\r\n           <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          \r\n          fullWidth\r\n          type=\"text\"\r\n          label=\"Expiry(MMYY)\"\r\n          autoComplete=\"email\"\r\n          onChange={(e) => setAmount(e.target.value)}\r\n          />\r\n        </div>\r\n          {\" \"}\r\n          {!isLoading ? (\r\n            <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\r\n              Add\r\n            </Button>\r\n          ) : (\r\n            <center>\r\n              <CircularProgress style={{ justifyContent: \"center\" }} />\r\n            </center>\r\n          )}\r\n        </form>\r\n      </div>\r\n          <h2>{msg}</h2>\r\n    </center>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useAtom } from \"jotai\";\r\n\r\nimport { authAtom } from \"../atoms/authAtom\";\r\nimport { Button, CircularProgress, Paper } from \"@material-ui/core\";\r\nimport Image from \"../bg.png\";\r\nimport ReceiptIcon from \"@material-ui/icons/Receipt\";\r\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { userAtom } from \"../atoms/userAtom\";\r\nimport TransactionList from \"../components/transactionList\";\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport Send from \"../components/send\";\r\nimport AddMoney from \"../components/addMoney\";\r\n\r\nconst styles = {\r\n  div: {\r\n    height: \"100vh\",\r\n    margin: \"0\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundSize: \"cover\",\r\n    backgroundImage: `url(${Image})`,\r\n  },\r\n  indiv1: {\r\n    display: \"flex\",\r\n    flex: 3,\r\n    justifyContent: \"flex-start\",\r\n    padding: 10,\r\n    backgroundColor: \"azure\",\r\n  },\r\n  indiv2: {\r\n    display: \"flex\",\r\n    flex: 3,\r\n    justifyContent: \"flex-start\",\r\n    padding: 10,\r\n  },\r\n};\r\nexport default function Wallet() {\r\n  const [token, setAuth] = useAtom(authAtom);\r\n  const history = useHistory();\r\n  const [user, _] = useAtom(userAtom);\r\n  const [balance, updateBalance] = useState(null);\r\n  const [viewMode, setViewMode] = useState(null);\r\n  function signout() {\r\n    localStorage.clear();\r\n    setAuth((e) => null);\r\n    history.replace(\"/login\");\r\n  }\r\n  useEffect(fetchBalance, []);\r\n  async function fetchBalance() {\r\n    if(user['userType']==='merchant'){\r\n       return history.replace('/merchant/dashboard')\r\n      };\r\n    let res = await fetch(\r\n      `http://localhost:3001/wallet/getBalance?token=${token}`\r\n    );\r\n    res = await res.json();\r\n    updateBalance(res[\"balance\"].toString());\r\n  }\r\n  function view() {\r\n    if (!viewMode) return tools();\r\n      return (\r\n        <div>\r\n          <Button onClick={()=>setViewMode(null)}>\r\n          <div style={{display:'flex',alignItems:'center'}}>\r\n            <ArrowBackIcon/>\r\n            <p>Back</p>\r\n            </div>\r\n          </Button>\r\n          {viewFunction()}\r\n        </div>\r\n      );\r\n    \r\n  }\r\n  function viewFunction(){\r\n    if (viewMode == \"transactions\") return <TransactionList updateBalance={fetchBalance} token={token}/>\r\n    if(viewMode==\"add\") return <AddMoney token={token} updateBalance={fetchBalance}/>\r\n    if(viewMode==\"send\") return <Send currentBalance={balance} token={token} updateBalance={fetchBalance}/>\r\n  }\r\n  function tools() {\r\n    return (\r\n      <div style={styles.indiv2}>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-evenly\",\r\n            width: \"100%\",\r\n            alignItems: \"center\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          <Button onClick={() => setViewMode(\"send\")}>\r\n              \r\n          <div>\r\n            <SendIcon style={{ color: \"0F4FF5\" }} />\r\n            <p style={{ margin: 0 }}>Send</p>\r\n          </div>\r\n          </Button>\r\n          <div>\r\n            <Button onClick={() => setViewMode(\"transactions\")}>\r\n              <div>\r\n                <ReceiptIcon style={{ color: \"0F4FF5\" }} />\r\n                <p style={{ margin: 0 }}>Transactions</p>\r\n              </div>\r\n            </Button>\r\n          </div>\r\n          <Button onClick={() => setViewMode(\"add\")}>\r\n          <div>\r\n            <AddCircleOutlineIcon style={{ color: \"0F4FF5\" }} />\r\n            <p style={{ margin: 0 }}>Add Money</p>\r\n\r\n          </div>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div style={styles.div}>\r\n      <Paper style={{ padding: 10 }}>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            width: 500,\r\n            flexDirection: \"column\",\r\n          }}\r\n        >\r\n          <div style={styles.indiv1}>\r\n            <div\r\n              style={{width: 50, marginRight: 10 }}\r\n\r\n            ><img width=\"50\" src={('https://i.ibb.co/jbKdqjL/user.png')}/></div>\r\n            <div style={{ width: \"100%\" }}>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  justifyContent: \"flex-start\",\r\n                }}\r\n              >\r\n                <h2 style={{ margin: 0, letterSpacing: 1.3, color: \"#2D2D33\" }}>\r\n                  {user.name}\r\n                </h2>\r\n                <h4 style={{ padding: 0, margin: 0, color: \"#0F4FF5\" }}>\r\n                  {user.email}\r\n                </h4>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style={styles.indiv1}>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-evenly\",\r\n                width: \"100%\",\r\n                alignItems: \"center\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              <h2\r\n                style={{\r\n                  letterSpacing: 1.3,\r\n                  color: \"#9D968C\",\r\n                  textAlign: \"center\",\r\n                }}\r\n              >\r\n                Balance\r\n              </h2>\r\n              {balance!=null ? (\r\n                <h2 style={{ color: \"#0F4FF5\", textAlign: \"center\" }}>\r\n                  ₹{balance}\r\n                </h2>\r\n              ) : (\r\n                <CircularProgress />\r\n              )}\r\n            </div>\r\n          </div>\r\n          {view()}\r\n        </div>\r\n      </Paper>\r\n      <Button onClick={signout} style={{ marginTop: 20 }} variant=\"contained\">\r\n        Sign Out\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { Switch, Route,Redirect } from \"react-router-dom\";\nimport PrivateRoute from \"./components/privateRoute\";\nimport LoginScreen from \"./screens/login_screen\";\nimport MerchantDashboard from \"./screens/merchant_dashboard\";\nimport Redirector from \"./screens/redirector\";\nimport Wallet from \"./screens/wallet_screen\";\nimport \"./styles.css\";\n\nexport default function App() {\n  return (\n    <Switch>\n      <PrivateRoute path=\"/wallet\">\n        <Wallet />\n      </PrivateRoute>\n      <Route path=\"/login\">\n        <LoginScreen />\n      </Route>\n      <Route path=\"/merchant/dashboard\" >\n        <MerchantDashboard />\n      </Route>\n      <Route path=\"/*\"><Redirector/></Route>\n    </Switch>\n    \n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { Provider } from \"jotai\";\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n\n    <Provider>\n      <Router>\n        <App />\n      </Router>\n    </Provider>,\n  rootElement\n);\n"],"sourceRoot":""}